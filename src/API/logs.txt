


2020-10-19-17:21:57    START: Starting API...
2020-10-19-17:21:57    INFO: Calling: create_app...



2020-10-19-17:21:59    START: Starting API...
2020-10-19-17:21:59    INFO: Calling: create_app...



2020-10-19-17:22:05    START: Starting API...
2020-10-19-17:22:05    INFO: Calling: create_app...



2020-10-19-17:22:35    START: Starting API...
2020-10-19-17:22:35    INFO: Calling: create_app...



2020-10-19-17:24:11    START: Starting API...
2020-10-19-17:24:11    INFO: Calling: create_app...



2020-10-19-17:24:46    START: Starting API...
2020-10-19-17:24:46    INFO: Calling: create_app...



2020-10-19-17:25:03    START: Starting API...
2020-10-19-17:25:03    INFO: Calling: create_app...



2020-10-19-17:27:14    START: Starting API...
2020-10-19-17:27:14    INFO: Calling: create_app...



2020-10-19-17:27:16    START: Starting API...
2020-10-19-17:27:16    INFO: Calling: create_app...
2020-10-19-17:27:25    INFO: Calling: receive_data...
2020-10-19-17:27:25    INFO: Route '/api/upload' was called...
2020-10-19-17:27:29    INFO: Storing query in data directory...
2020-10-19-17:27:30    INFO: Calling: person_detection...
2020-10-19-17:27:30    INFO: Calling: setup_detector...
2020-10-19-17:27:30    INFO: Initializing Person Detector: Tuned R-CNN
2020-10-19-17:27:30    INFO: Loading detector pretrained parameters...
2020-10-19-17:27:30    INFO:     Loading: /home/qy67mixi/RetrievalDemo/src/API/resources/arch_faster_rcnn.pth
2020-10-19-17:27:31    INFO: Computing forward pass through person detector...
2020-10-19-17:27:45    INFO: Calling: bbox_filtering...
2020-10-19-17:27:45    INFO: Obtaining intermediate detector visualization...
2020-10-19-17:27:45    INFO: Calling: visualize_bbox...
2020-10-19-17:27:46    INFO: Extracting person detections from image...
2020-10-19-17:27:46    INFO: 1 person instances have been detected...
2020-10-19-17:27:46    INFO: Calling: visualize_img...
2020-10-19-17:27:47    INFO: Calling: pose_estimation...
2020-10-19-17:27:47    INFO: Calling: setup_pose_estimator...
2020-10-19-17:27:47    INFO: Initializing Pose Estimation model...
2020-10-19-17:27:47    INFO: Loading pretrained model parameters...
2020-10-19-17:27:47    INFO: Preprocessing person detections...
2020-10-19-17:27:47    INFO: Computing forward pass through the keypoint detector model...
2020-10-19-17:27:48    INFO: Extracting keypoints from heatmaps...
2020-10-19-17:27:48    INFO: Calling: get_max_preds_hrnet...
2020-10-19-17:27:48    INFO: Calling: get_final_preds_hrnet...
2020-10-19-17:27:48    INFO: Calling: get_max_preds_hrnet...
2020-10-19-17:27:48    INFO: Parsing human poses...
2020-10-19-17:27:48    INFO: Calling: create_pose_entries...
2020-10-19-17:27:48    INFO: Calling: create_pose_entries...
2020-10-19-17:27:48    INFO: Calling: draw_pose...
2020-10-19-17:27:49    INFO: Calling: draw_pose...
2020-10-19-17:27:50    INFO: Encoding results and returning response...
2020-10-19-17:28:07    INFO: Calling: receive_data...
2020-10-19-17:28:07    INFO: Route '/api/retrieve' was called...
2020-10-19-17:28:07    INFO: Detection 1 was selected for retrieval...
2020-10-19-17:28:07    INFO: Calling: pose_based_retrieval...
2020-10-19-17:28:07    INFO: Preprocessing pose vector...
2020-10-19-17:28:07    INFO: Loading KNN object and retrieval database...
2020-10-19-17:28:07    INFO: Calling: receive_data...
2020-10-19-17:28:07    INFO: Route '/api/retrieve' was called...
2020-10-19-17:28:07    INFO: Detection 1 was selected for retrieval...
2020-10-19-17:28:07    INFO: Calling: pose_based_retrieval...
2020-10-19-17:28:07    INFO: Preprocessing pose vector...
2020-10-19-17:28:07    INFO: Loading KNN object and retrieval database...
2020-10-19-17:28:08    INFO: Retrieving similar poses from database...
2020-10-19-17:28:08    INFO: Retrieving similar poses from database...
2020-10-19-17:28:08    INFO: Calling: draw_pose...
2020-10-19-17:28:08    INFO: Calling: draw_pose...
2020-10-19-17:28:09    INFO: Calling: draw_pose...
2020-10-19-17:28:09    INFO: Calling: draw_pose...
2020-10-19-17:28:11    INFO: Calling: draw_pose...
2020-10-19-17:28:12    INFO: Calling: draw_pose...
2020-10-19-17:28:12    INFO: Calling: draw_pose...
2020-10-19-17:28:13    INFO: Calling: draw_pose...
2020-10-19-17:28:13    INFO: Calling: draw_pose...
2020-10-19-17:28:14    INFO: Calling: draw_pose...
2020-10-19-17:28:15    INFO: Calling: draw_pose...
2020-10-19-17:28:15    INFO: Calling: draw_pose...
2020-10-19-17:28:15    INFO: Calling: draw_pose...
2020-10-19-17:28:16    INFO: Calling: draw_pose...
2020-10-19-17:28:16    INFO: Calling: draw_pose...
2020-10-19-17:28:16    INFO: Calling: draw_pose...
2020-10-19-17:28:17    INFO: Calling: draw_pose...
2020-10-19-17:28:17    INFO: Calling: draw_pose...
2020-10-19-17:28:18    ERROR: Traceback (most recent call last):
  File "/home/qy67mixi/RetrievalDemo/src/API/lib/logger.py", line 26, in try_call_log
    return func(*args, **kwargs)
  File "/home/qy67mixi/RetrievalDemo/src/API/lib/visualizations.py", line 190, in draw_pose
    plt.savefig(savepath, bbox_inches="tight", pad_inches=0)
  File "/home/qy67mixi/RetrievalDemo/src/API/virtual_environment/lib/python3.8/site-packages/matplotlib/pyplot.py", line 859, in savefig
    res = fig.savefig(*args, **kwargs)
  File "/home/qy67mixi/RetrievalDemo/src/API/virtual_environment/lib/python3.8/site-packages/matplotlib/figure.py", line 2311, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/qy67mixi/RetrievalDemo/src/API/virtual_environment/lib/python3.8/site-packages/matplotlib/backend_bases.py", line 2193, in print_figure
    self.figure.draw(renderer)
  File "/home/qy67mixi/RetrievalDemo/src/API/virtual_environment/lib/python3.8/site-packages/matplotlib/backend_bases.py", line 1544, in _draw
    def _draw(renderer): raise Done(renderer)
matplotlib.backend_bases._get_renderer.<locals>.Done: <matplotlib.backends.backend_agg.RendererAgg object at 0x7f9031a59430>

2020-10-19-17:28:18    INFO: Calling: draw_pose...
2020-10-19-17:28:19    INFO: Calling: draw_pose...
2020-10-19-17:28:19    INFO: Calling: draw_pose...
2020-10-19-17:28:20    INFO: Calling: draw_pose...
2020-10-19-17:28:20    INFO: Calling: draw_pose...
2020-10-19-17:28:21    INFO: Calling: draw_pose...
2020-10-19-17:28:21    INFO: Calling: draw_pose...
2020-10-19-17:28:22    INFO: Calling: draw_pose...
2020-10-19-17:28:22    INFO: Calling: draw_pose...
2020-10-19-17:28:23    INFO: Calling: draw_pose...
2020-10-19-17:28:24    INFO: Calling: draw_pose...
2020-10-19-17:28:24    INFO: Calling: draw_pose...
2020-10-19-17:28:25    INFO: Calling: draw_pose...
2020-10-19-17:28:25    INFO: Calling: draw_pose...
2020-10-19-17:28:26    INFO: Calling: draw_pose...
2020-10-19-17:28:26    INFO: Calling: draw_pose...
2020-10-19-17:28:27    INFO: Calling: draw_pose...
2020-10-19-17:28:27    INFO: Calling: draw_pose...
2020-10-19-17:28:28    INFO: Calling: draw_pose...
2020-10-19-17:28:28    INFO: Calling: draw_pose...
2020-10-19-17:28:29    INFO: Calling: draw_pose...
2020-10-19-17:28:29    INFO: Calling: draw_pose...
2020-10-19-17:28:30    INFO: Calling: draw_pose...
2020-10-19-17:28:30    INFO: Calling: draw_pose...
2020-10-19-17:28:31    INFO: Calling: draw_pose...
2020-10-19-17:28:31    INFO: Calling: draw_pose...
2020-10-19-17:28:31    INFO: Calling: draw_pose...
2020-10-19-17:28:32    INFO: Calling: draw_pose...
2020-10-19-17:28:32    INFO: Calling: draw_pose...
2020-10-19-17:28:33    INFO: Calling: draw_pose...
2020-10-19-17:28:33    INFO: Calling: draw_pose...
2020-10-19-17:28:34    INFO: Calling: draw_pose...
2020-10-19-17:28:34    INFO: Calling: draw_pose...
2020-10-19-17:28:35    INFO: Calling: draw_pose...
2020-10-19-17:28:35    INFO: Calling: draw_pose...
2020-10-19-17:28:35    INFO: Calling: draw_pose...
2020-10-19-17:28:36    INFO: Calling: draw_pose...
2020-10-19-17:28:36    INFO: Calling: draw_pose...
2020-10-19-17:28:36    INFO: Calling: draw_pose...
2020-10-19-17:28:37    INFO: Calling: draw_pose...
2020-10-19-17:28:37    INFO: Calling: draw_pose...
2020-10-19-17:28:38    INFO: Calling: draw_pose...



2020-10-23-11:30:21    START: Starting API...
2020-10-23-11:30:21    INFO: Calling: create_app...



2020-10-23-11:30:23    START: Starting API...
2020-10-23-11:30:23    INFO: Calling: create_app...



2020-10-23-11:30:47    START: Starting API...
2020-10-23-11:30:47    INFO: Calling: create_app...



2020-10-23-11:30:48    START: Starting API...
2020-10-23-11:30:48    INFO: Calling: create_app...



2020-10-23-11:31:42    START: Starting API...
2020-10-23-11:31:42    INFO: Calling: create_app...



2020-10-23-11:31:43    START: Starting API...
2020-10-23-11:31:43    INFO: Calling: create_app...
2020-10-23-11:31:48    INFO: Calling: home...
2020-10-23-11:31:48    INFO: Route '/' was callied...
2020-10-23-11:31:48    INFO: {'message': 'Retrieval Demo API is running!'}
2020-10-23-11:32:53    INFO: Calling: home...
2020-10-23-11:32:53    INFO: Route '/' was callied...
2020-10-23-11:32:53    INFO: {'message': 'Retrieval Demo API is running!'}



2020-10-23-12:11:00    START: Starting API...
2020-10-23-12:11:00    INFO: Calling: create_app...



2020-10-23-12:11:07    START: Starting API...
2020-10-23-12:11:07    INFO: Calling: create_app...
